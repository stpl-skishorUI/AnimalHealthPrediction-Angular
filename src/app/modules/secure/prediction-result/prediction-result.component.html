<div class="row justify-content-center form-container">
    <div class="col-sm-4">
        <div class="page-header">
            <i class="las la-snowflake"></i>Simulation Analysis
        </div>
        <div class="d-flex justify-content-end mb-3">
            <a class="btn btn-back d-flex align-items-center gap-1" routerLink="/prediction-form">
                <i class="las la-arrow-left fs-90"></i> New Assessment
            </a>
        </div>

        <!-- input -->
        <div class="card card-body fs-75 mb-3 border-0">
            <div class="d-flex">
                <div class="flex-shrink-0">
                    <h1 class="mb-0">
                        <i class="las la-file-medical-alt text-pink"></i>
                    </h1>
                </div>
                <div class="flex-grow-1 ms-2">
                    In a
                    <strong class="text-pink">{{predictionResult?.jsonResult?.ClimateType}}</strong>
                    climate during the
                    <strong class="text-pink">{{predictionResult?.jsonResult?.Season}}</strong>, a
                    <strong class="text-pink">{{predictionResult?.jsonResult?.AnimalStage}}</strong>
                    exhibiting
                    <strong class="text-pink">{{predictionResult?.jsonResult?.Behavior}}</strong>
                    behavior showing symptoms such as
                    <strong class="text-pink" *ngFor="let data of predictionResult?.jsonResult?.VisibleSymptoms">
                        {{data.Symptom}},
                    </strong>
                    while having a
                    <strong class="text-pink">{{predictionResult?.jsonResult?.VaccinationStatus}}</strong>
                    vaccination status.
                </div>
            </div>
        </div>

        <!-- Health Assessment -->
        <div class="card rounded-3 border-0 mb-3">
            <div class="card-header bg-transparent border-bottom-0">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0">
                        <i class="las la-stethoscope head-icon text-main bg-main-light"></i>
                    </div>
                    <div class="flex-grow-1 ms-2">
                        <div class="fs-main fw-bold text-main">Health Assessment</div>
                    </div>
                </div>
            </div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="form-label mb-0">Applicable for :</div>
                        <div class="d-flex gap-2">
                            <span *ngFor="let applicable of predictionResult?.jsonResult?.ApplicableFor">
                                <span
                                    class="badge bg-primary-subtle text-primary px-2 fs-75">{{applicable.AnimalType}}</span>
                            </span>
                        </div>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="form-label mb-0">Priority Level :</div>
                        <div class="form-data text-primary">{{predictionResult?.jsonResult?.PriorityLevel}}</div>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="form-label mb-0">Economic Impact :</div>
                        <div class="form-data text-primary">{{predictionResult?.jsonResult?.EconomicImpact}}</div>
                    </div>
                </li>
                <li class="list-group-item">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="form-label mb-0">Mortality Risk :</div>
                        <div class="form-data text-primary">{{predictionResult?.jsonResult?.MortalityRisk}}</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Prediction condition Assessment -->
        <div class="card rounded-3 border-0 mb-3">
            <div class="card-header bg-transparent border-bottom-0">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0">
                        <i class="las la-file-alt head-icon text-success bg-success-subtle"></i>
                    </div>
                    <div class="flex-grow-1 mx-2">
                        <div class="fs-main fw-bold text-success mb-1">Prediction Assessment</div>
                        <div class="text-dark fs-75">Prediction Confidence:
                            <span class="fw-bold">{{predictionResult?.jsonResult?.Confidence}}</span>
                        </div>
                    </div>
                    <div class="flex-shrink-0">
                        <span class="badge bg-success fs-70">
                            {{predictionResult?.jsonResult?.DataQuality}}
                        </span>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="fw-bold mb-1 fs-main">
                    {{predictionResult?.jsonResult?.PredictedCondition}}
                </div>
                <div class="fs-75">
                    {{predictionResult?.jsonResult?.PredictedConditionDescription}}
                </div>

            </div>
            <div class="card-footer bg-transparent border-top-0 bg-warning-subtle">
                <div class="form-label mb-2">Veterinary Consultation</div>
                <div class="fw-bold fs-80 text-danger">
                    <i class="las la-stopwatch fs-default"></i>
                    Within {{predictionResult?.jsonResult?.UrgentCare}}
                </div>
            </div>
        </div>

        <!-- Monitoring Recommendations -->
        <div class="card rounded-3 border-0 mb-3">
            <div class="card-header bg-transparent border-bottom-0">
                <div class="d-flex align-items-center gap-2 text-indigo">
                    <i class="las la-award head-icon bg-indigo-subtle"></i>
                    <span class="fs-main fw-bold">Monitoring Recommendations</span>
                </div>
            </div>
            <div class="card-body">
                <div class="accordion accordion-flush" id="accordionExample">
                    <div class="accordion-item"
                        *ngFor="let item of predictionResult?.jsonResult?.MonitoringRecommendations; let i = index">
                        <div class="accordion-header" [id]="'heading' + item.id">
                            <button class="accordion-button" [class.collapsed]="!item.expanded" type="button"
                                (click)="toggleAccordion(i)" [attr.aria-expanded]="item.expanded">
                                {{ item.Category }}
                            </button>
                        </div>
                        <div [id]="'collapse' + item.id" class="accordion-collapse collapse"
                            [class.show]="item.expanded" [attr.aria-labelledby]="'heading' + item.id">
                            <div class="accordion-body p-2">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <i class="las la-user-nurse icon bg-secondary-subtle"></i>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <div class="form-label">Action :</div>
                                                <div class="form-data">{{ item.Action }}</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <i class="las la-bell icon bg-secondary-subtle"></i>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <div class="form-label">AlertSigns :</div>
                                                <div class="form-data">{{ item.AlertSigns }}</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <i class="las la-file-contract icon bg-secondary-subtle"></i>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <div class="form-label">Details :</div>
                                                <div class="form-data">{{ item.Details }}</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <i class="las la-sync icon bg-secondary-subtle"></i>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <div class="form-label">Frequency :</div>
                                                <div class="form-data">{{ item.Frequency }}</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="list-group-item px-0">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <i class="las la-universal-access icon bg-secondary-subtle"></i>
                                            </div>
                                            <div class="flex-grow-1 ms-2">
                                                <div class="form-label">Precaution :</div>
                                                <div class="form-data">{{ item.NormalValues }}</div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Routine Checkup -->
        <div class="alert alert-warning" role="alert">
            <div class="d-flex">
                <div class="flex-shrink-0">
                    <i class="las la-calendar-check media-icon"></i>
                </div>
                <div class="flex-grow-1 ms-3">
                    <div class="fs-main fw-bold mb-1">Routine Checkup</div>
                    <div class="fs-75">
                        {{predictionResult?.jsonResult?.RoutineCheckup}}
                    </div>
                </div>
            </div>
        </div>

        <!-- Climate Considerations -->
        <div class="card mb-3 border-0">
            <div class="card-header bg-transparent border-bottom-0">
                <div class="d-flex align-items-center gap-2">
                    <i class="las la-temperature-high head-icon text-danger bg-danger-subtle"></i>
                    <div class="fs-main fw-bold text-danger">Climate Considerations</div>
                </div>
            </div>
            <ul class="list-group list-group-flush fs-80">
                <li class="list-group-item"
                    *ngFor="let climateconsider of predictionResult?.jsonResult?.ClimateConsiderations">
                    <div class="d-flex">
                        <div class="flex-shrink-0">
                            <i class="las la-check-circle fs-default text-danger"></i>
                        </div>
                        <div class="flex-grow-1 ms-2">
                            {{climateconsider.Consideration}}
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Risk level -->
        <div class="alert alert-danger" role="alert">
            <div class="d-flex mb-3">
                <div class="flex-shrink-0">
                    <i class="las la-exclamation-triangle media-icon"></i>
                </div>
                <div class="flex-grow-1 ms-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="fs-main fw-bold">Risk Level</div>
                        <div class="badge bg-danger ms-auto fs-70">
                            {{predictionResult?.jsonResult?.RiskLevel}}
                        </div>
                    </div>
                    <div class="fs-75">
                        {{predictionResult?.jsonResult?.RiskLevelDescription}}
                    </div>
                </div>
            </div>

            <div class="form-data mb-2">Specific Risks :</div>
            <div class="d-flex flex-wrap align-items-center gap-2">
                <span class="badge bg-pink-subtle text-dark fs-75 px-2"
                    *ngFor="let risks of predictionResult?.jsonResult?.SpecificRisks">
                    {{risks.Risk}}
                </span>
            </div>
        </div>

        <!-- Next Steps -->
        <div class="card rounded-3 border-0 mb-3">
            <div class="card-header bg-transparent border-bottom-0">
                <div class="d-flex align-items-center gap-2 text-purple">
                    <i class="las la-hand-point-right head-icon bg-purple-subtle"></i>
                    <span class="fs-main fw-bold">Next Step Recommendations</span>
                </div>
            </div>
            <ul class="list-group list-group-flush fs-80">
                <li class="list-group-item"
                    *ngFor="let nextstep of predictionResult?.jsonResult?.NextStepRecommendations">
                    <div class="d-flex">
                        <div class="flex-shrink-0">
                            <i class="las la-chevron-circle-right text-purple fs-default"></i>
                        </div>
                        <div class="flex-grow-1 ms-2">
                            {{nextstep.Recommendation}}
                        </div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Disclaimer -->
        <div class="alert alert-warning fs-65" role="alert">
            <strong>Disclaimer :</strong> This is an simulation based on veterinary expertise. Always consult with a
            qualified
            veterinarian for
            professional diagnosis and treatment.
        </div>
    </div>
</div>