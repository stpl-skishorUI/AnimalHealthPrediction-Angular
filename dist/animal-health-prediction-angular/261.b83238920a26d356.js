"use strict";(self.webpackChunkAnimalHealthPrediction_Angular=self.webpackChunkAnimalHealthPrediction_Angular||[]).push([[261],{4261:(L,c,o)=>{o.r(c),o.d(c,{PublicModule:()=>x});var a=o(177),l=o(7060),u=o(68),i=o(4341),n=o(540),p=o(1094),h=o(5794);function f(t,O){1&t&&(n.j41(0,"span"),n.EFF(1,"Login to VetHP"),n.k0s())}function b(t,O){1&t&&(n.j41(0,"span"),n.nrm(1,"i",24),n.EFF(2," Logging in... "),n.k0s())}let d=(()=>{class t{constructor(s,e,r){this.authService=s,this.router=e,this.toastr=r,this.username="",this.password="",this.isLoading=!1}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/prediction-form"],{replaceUrl:!0})}login(){this.username&&this.password?(this.isLoading=!0,this.authService.login({username:this.username,password:this.password}).subscribe({next:e=>{console.log("Login response:",e),this.isLoading=!1,"200"==e.statusCode?(e.user=e?.responseData,e.user&&localStorage.setItem("user",JSON.stringify(e.user)),this.toastr.success("Login successful!"),console.log("Redirecting to prediction form..."),this.router.navigate(["/prediction-form"],{replaceUrl:!0})):this.toastr.error(e.message||"Login failed")},error:e=>{this.isLoading=!1,this.toastr.error(e.message||"Login failed. Please try again.")}})):this.toastr.error("Please enter both username and password")}static{this.\u0275fac=function(e){return new(e||t)(n.rXU(p.u),n.rXU(l.Ix),n.rXU(h.tw))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:34,vars:5,consts:[[1,"login-wrapper"],[1,"login-header"],["src","assets/images/cow-logo.svg","alt","VetHP Logo",1,"logo"],[1,"las","la-stethoscope","text-success"],[1,"container"],[1,"row","justify-content-center"],[1,"col-sm-4"],["id","login-box",1,"card"],[1,"card-header"],[1,"las","la-lock","text-primary","me-2"],[1,"card-body"],[3,"ngSubmit"],["for","txtUserName",1,"form-label"],[1,"input-group","mb-3"],[1,"input-group-text"],[1,"las","la-user"],["type","text","id","txtUserName","placeholder","Username","aria-label","Username","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","txtPassword",1,"form-label"],[1,"input-group","mb-4"],[1,"las","la-lock"],["type","password","id","txtPassword","placeholder","Password","aria-label","Password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-main","w-100","py-2","fs-80",3,"disabled"],[4,"ngIf"],[1,"login-footer"],[1,"las","la-spinner","la-spin"]],template:function(e,r){1&e&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"h1"),n.nrm(4,"i",3),n.EFF(5," VetHP Assistant"),n.k0s(),n.j41(6,"p"),n.EFF(7,"Animal Health Prediction"),n.k0s()(),n.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),n.nrm(13,"i",9),n.EFF(14,"Veterinary Login "),n.k0s(),n.j41(15,"div",10)(16,"form",11),n.bIt("ngSubmit",function(){return r.login()}),n.j41(17,"label",12),n.EFF(18,"Username"),n.k0s(),n.j41(19,"div",13)(20,"span",14),n.nrm(21,"i",15),n.k0s(),n.j41(22,"input",16),n.bIt("ngModelChange",function(g){return r.username=g}),n.k0s()(),n.j41(23,"label",17),n.EFF(24,"Password"),n.k0s(),n.j41(25,"div",18)(26,"span",14),n.nrm(27,"i",19),n.k0s(),n.j41(28,"input",20),n.bIt("ngModelChange",function(g){return r.password=g}),n.k0s()(),n.j41(29,"button",21),n.DNE(30,f,2,0,"span",22),n.DNE(31,b,3,0,"span",22),n.k0s()()()(),n.j41(32,"div",23),n.EFF(33," \u{1f512} Secure access for veterinary professionals "),n.k0s()()()()()),2&e&&(n.R7$(22),n.Y8G("ngModel",r.username),n.R7$(6),n.Y8G("ngModel",r.password),n.R7$(1),n.Y8G("disabled",r.isLoading),n.R7$(1),n.Y8G("ngIf",!r.isLoading),n.R7$(1),n.Y8G("ngIf",r.isLoading))},dependencies:[a.MD,a.bT,i.YN,i.qT,i.me,i.BC,i.cb,i.YS,i.vS,i.cV],styles:[".login-wrapper[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.login-header[_ngcontent-%COMP%]{text-align:center}.login-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:80px;margin-bottom:1rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600}#login-box[_ngcontent-%COMP%]{border:none;box-shadow:0 3px 10px #0000002b;border-radius:15px;margin-bottom:3rem}#login-box[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:.8rem;border:0;padding-block:1rem}#login-box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}#login-box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;margin-bottom:2px}#login-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:transparent;border-right:none}#login-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.8rem;border-left:none;box-shadow:none;padding-block:.55rem}#login-box[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--bs-border-color)}.login-footer[_ngcontent-%COMP%]{font-size:.65rem;text-align:center;color:var(--bs-secondary)}"]})}}return t})();const C=[{path:"",component:u.P},{path:"home",loadChildren:()=>o.e(939).then(o.bind(o,939)).then(t=>t.HomeModule),data:{breadcrumb:[{title:"Home",active:!0}]}},{path:"login",component:d,data:{breadcrumb:[{title:"Login",active:!0}]}}];let P=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[l.iI.forChild(C),l.iI]})}}return t})();var M=o(8476),v=o(3032);let x=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[a.MD,P,M.l,v.n,d]})}}return t})()}}]);